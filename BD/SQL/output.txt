annual{\textunderscore}seat.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;


INSERT INTO football.annual{\textunderscore}seat (n{\textunderscore}seat, row, id{\textunderscore}section, start{\textunderscore}date, duration, value, bi, season) VALUES (11, 'H', 2, '2014/09/02', 10, 95, 15672829, 2014);

\end{lstlisting}

coach.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;

--Seniores Masculinos

INSERT INTO football.coach(bi, federation{\textunderscore}id, role) VALUES (16728392, 132, 'Treinador');

--Seniores Femininos
INSERT INTO football.coach (bi, federation{\textunderscore}id, role) VALUES (49102019, 245, 'Treinador');
\end{lstlisting}

court.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;

INSERT INTO football.court(address) VALUES ('Cidade do Dragao');
INSERT INTO football.court(address) VALUES ('Cidade do Estadio');

\end{lstlisting}

department.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;

INSERT INTO football.department (address, name) VALUES ('Avenida do Dragao', 'Direccao');
INSERT INTO football.department (address, name) VALUES ('Rua do Estadio', 'Financeiro');
INSERT INTO football.department (address, name) VALUES ('Rua da Relva', 'Comercial');



\end{lstlisting}

heads.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;

--Seniores Masculinos

INSERT INTO football.heads(bi, team{\textunderscore}name) VALUES (16728392, 'Seniores Masculinos');

--Seniores Femininos
INSERT INTO football.heads (bi, team{\textunderscore}name) VALUES (49102019, 'Seniores Femininos');
\end{lstlisting}

internal{\textunderscore}people.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;

--Jogadores

INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (12345678, 50000);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (77777777, 10000);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (12445678, 0);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (39522123, 250);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (40128390, 50);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (52131283, 0);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (43123123, 0);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (12895726, 300);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (46728109, 0);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (90872134, 0);

--Treinadores

INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (16728392, 40000);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (49102019, 250);

--Staff

INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (13124523, 100);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (14563792, 1000);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (29675821, 1250);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (16758290, 30000);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (19283847, 850);
INSERT INTO football.internal{\textunderscore}people (bi, salary) VALUES (39821392, 1500);

\end{lstlisting}

members.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;


--Sem Lugar Anual

INSERT INTO football.members(bi, shares{\textunderscore}in{\textunderscore}day, shares{\textunderscore}value) VALUES (26718293, 2014, 20);
INSERT INTO football.members (bi, shares{\textunderscore}in{\textunderscore}day, shares{\textunderscore}value) VALUES (28372192, 2015, 30);

--Com Lugar Anual

INSERT INTO football.members (bi, shares{\textunderscore}in{\textunderscore}day, shares{\textunderscore}value) VALUES (15672829, 2015, 50);

\end{lstlisting}

person.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;

--Jogadores
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (12345678, 'Cristiano Ronaldo', 'Rua das bananas', '1985/02/05', 12345678, 'M', 'Portuguesa');
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (77777777, 'Ricardo Quaresma', 'Avenida do Dragao', '1983/09/26', 77777777, 'M', 'Portuguesa'); 
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (12445678, 'Pedro Costa', 'Rua das cavacas', '1995/06/05', 12344678, 'M', 'Portuguesa'); 
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (39522123, 'Eduardo Santos', 'Travessa do Rio', '1990/02/25', 15326722, 'M', 'Portuguesa'); 
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (40128390, 'Bernardo Pires', 'Avenida Principal', '1997/02/16', 22146758, 'M', 'Portuguesa'); 
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (52131283, 'Rita Marques', 'Travessa do Rossio', '1997/01/02', 21321421, 'F', 'Portuguesa');
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (43123123, 'Luisa Norte', 'Rua da fonte', '1990/07/06', 23113123, 'F', 'Portuguesa'); 
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (12895726, 'Manuel Flores', 'Avenida do Bom-Samaritano', '1981/09/16', 12349882, 'M', 'Portuguesa');
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (46728109, 'Miguel Oliveira', 'Avenida do Paraiso', '1993/01/18', 32138211, 'M', 'Portuguesa');
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (90872134, 'Mara Luis', 'Rua da marisqueira', '1995/01/13', 67526192, 'F', 'Portuguesa'); 

--Treinadores

INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (16728392, 'José Mourinho', 'Avenida de Inglaterra', '1965/08/05', 12324940, 'M', 'Portuguesa');
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (49102019, 'Carlos Ferreira', 'Rua da praia', '1977/01/30', 21837329, 'M', 'Portuguesa'); 

--Staff

INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (13124523, 'Luis Pais', 'Rua Padre Xavier', '1965/08/29', 14052123, 'M', 'Portuguesa'); 
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (14563792, 'Maria Campos', 'Travessa das Camélias', '1977/09/06', 34520921, 'F', 'Portuguesa');
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (29675821, 'Eduarda Olivais', 'Rua das Bolas', '1965/01/20', 23156782, 'F', 'Portuguesa'); 
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (16758290, 'Jorge Nuno Pinto da Costa', 'Avenida do Dragao', '1937/12/28', 02134123, 'M', 'Portuguesa'); 
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (19283847, 'Pedro Paulo', 'Avenida do Doutor Luis', '1965/09/10', 47282910, 'M', 'Portuguesa');
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (39821392, 'Fernanda Pascoal', 'Rua de Maio', '1965/06/01', 21238291, 'F', 'Portuguesa');

--Socios

INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (15672829, 'Jorge Jesus', 'Rua de Benfica', '1956/01/01', 21324124, 'M', 'Portuguesa'); 
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (26718293, 'Luis Simoes', 'Avenida do Macaco', '1993/11/22', 12383492, 'M', 'Portuguesa'); 
INSERT INTO football.person (bi, name, address, birth{\textunderscore}date, nif, gender, nationality) VALUES (28372192, 'Rafael Luis', 'Avenida do Caloteiro', '1973/12/22', 32142422, 'M', 'Portuguesa');





\end{lstlisting}

play.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;

--Seniores Femininos

INSERT INTO football.play (bi, team{\textunderscore}name) VALUES (52131283, 'Seniores Femininos');
INSERT INTO football.play (bi, team{\textunderscore}name) VALUES (43123123, 'Seniores Femininos');
INSERT INTO football.play (bi, team{\textunderscore}name) VALUES (90872134, 'Seniores Femininos');

--Seniores Masculinos

INSERT INTO football.play (bi, team{\textunderscore}name) VALUES (12345678, 'Seniores Masculinos');
INSERT INTO football.play (bi, team{\textunderscore}name) VALUES (77777777, 'Seniores Masculinos');
INSERT INTO football.play (bi, team{\textunderscore}name) VALUES (12445678, 'Seniores Masculinos');
INSERT INTO football.play (bi, team{\textunderscore}name) VALUES (39522123, 'Seniores Masculinos');
INSERT INTO football.play (bi, team{\textunderscore}name) VALUES (40128390, 'Seniores Masculinos');
INSERT INTO football.play (bi, team{\textunderscore}name) VALUES (12895726, 'Seniores Masculinos');
INSERT INTO football.play (bi, team{\textunderscore}name) VALUES (46728109, 'Seniores Masculinos');
\end{lstlisting}

player.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;


--Seniores Femininos

INSERT INTO football.player (bi, federation{\textunderscore}id, weight, height) VALUES (52131283, 1234, 59, 160);
INSERT INTO football.player (bi, federation{\textunderscore}id, weight, height) VALUES (43123123, 09382, 58, 170);
INSERT INTO football.player (bi, federation{\textunderscore}id, weight, height) VALUES (90872134, 23234, 52, 162);

--Seniores Masculinos

INSERT INTO football.player(bi, federation{\textunderscore}id, weight, height) VALUES (12345678, 201, 77, 189);
INSERT INTO football.player (bi, federation{\textunderscore}id, weight, height) VALUES (77777777, 30012, 75, 182);
INSERT INTO football.player (bi, federation{\textunderscore}id, weight, height) VALUES (12445678, 2001, 70, 177);
INSERT INTO football.player (bi, federation{\textunderscore}id, weight, height) VALUES (39522123, 3482, 72, 175);
INSERT INTO football.player (bi, federation{\textunderscore}id, weight, height) VALUES (40128390, 1859, 69, 167);
INSERT INTO football.player (bi, federation{\textunderscore}id, weight, height) VALUES (12895726, 2394, 80, 192);
INSERT INTO football.player (bi, federation{\textunderscore}id, weight, height) VALUES (46728109, 19283, 82, 184);




\end{lstlisting}

practices.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;

INSERT INTO football.practice(date, hour, id{\textunderscore}court, team{\textunderscore}name) VALUES ('2015/05/21', '21:00', 1, 'Seniores Masculinos');
INSERT INTO football.practice(date, hour, id{\textunderscore}court, team{\textunderscore}name) VALUES ('2015/05/22', '19:00', 2, 'Seniores Femininos');
\end{lstlisting}

seat.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;

--Topo Norte

INSERT INTO football.seat(n{\textunderscore}seat, row, id{\textunderscore}section) VALUES (10, 'B', 1);
INSERT INTO football.seat(n{\textunderscore}seat, row, id{\textunderscore}section) VALUES (17, 'C', 1);

--Central

INSERT INTO football.seat(n{\textunderscore}seat, row, id{\textunderscore}section) VALUES (11, 'H', 2);
INSERT INTO football.seat(n{\textunderscore}seat, row, id{\textunderscore}section) VALUES (2, 'I', 2);
\end{lstlisting}

section.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;


INSERT INTO football.section(type) VALUES ('Topo Norte');
INSERT INTO football.section(type) VALUES ('Central');
\end{lstlisting}

staff.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;


--Direccao

INSERT INTO football.staff (bi, role, department{\textunderscore}id) VALUES (16758290, 'Presidente', 1);
INSERT INTO football.staff (bi, role, department{\textunderscore}id) VALUES (13124523, 'Vice-Presidente', 1);

--Departamento Financeiro

INSERT INTO football.staff (bi, role, department{\textunderscore}id) VALUES (19283847, 'Director Financeiro', 2);
INSERT INTO football.staff (bi, role, department{\textunderscore}id) VALUES (14563792, 'Gestor Financeiro', 2);

--Departamento Comercial

INSERT INTO football.staff (bi, role, department{\textunderscore}id) VALUES (29675821, 'Director de Vendas', 3);
INSERT INTO football.staff (bi, role, department{\textunderscore}id) VALUES (39821392, 'Vendedor', 3);


\end{lstlisting}

tables.sql
\begin{lstlisting} 
-- CREATE SCHEMA football;
use p4g5;

-- person
CREATE TABLE football.person(
    bi INT PRIMARY KEY CHECK(bi>0),
    name VARCHAR(75) NOT NULL,
    address VARCHAR(75) NOT NULL,
    birth{\textunderscore}date DATE NOT NULL,
    nif INT UNIQUE NOT NULL,
	gender VARCHAR(1) NOT NULL CHECK (gender IN('M','F')),
	nationality VARCHAR(75) NOT NULL
);

-- internal people
CREATE TABLE football.internal{\textunderscore}people(
    bi INT PRIMARY KEY,
    salary MONEY NOT NULL CHECK (salary >= 0),
    internal{\textunderscore}id INT UNIQUE NOT NULL IDENTITY
);

-- ALTERs internal people
ALTER TABLE football.internal{\textunderscore}people ADD CONSTRAINT FORPIBIPBI
FOREIGN KEY (bi) REFERENCES football.person(bi)
ON UPDATE CASCADE;

-- members
CREATE TABLE football.members(
    bi INT PRIMARY KEY,
    n{\textunderscore}member INT NOT NULL UNIQUE IDENTITY,
    shares{\textunderscore}in{\textunderscore}day INT NOT NULL,
    shares{\textunderscore}value MONEY NOT NULL CHECK (shares{\textunderscore}value >= 0),
);

-- ALTERs members
ALTER TABLE football.members ADD CONSTRAINT FORSBIPBI
FOREIGN KEY (bi) REFERENCES football.person(bi)
ON UPDATE CASCADE;

-- player
CREATE TABLE football.player(
    bi INT PRIMARY KEY,
    federation{\textunderscore}id INT UNIQUE NOT NULL CHECK(federation{\textunderscore}id >= 0),
    weight int NOT NULL CHECK(weight > 0),
    height int NOT NULL CHECK(height > 0)
);

-- player ALTERs
ALTER TABLE football.player ADD CONSTRAINT FORJBIPIBI
FOREIGN KEY (bi) REFERENCES football.internal{\textunderscore}people(bi)
ON UPDATE CASCADE;

-- coach
CREATE TABLE football.coach(
    bi INT PRIMARY KEY,
    federation{\textunderscore}id INT NOT NULL CHECK(federation{\textunderscore}id >= 0),
    role VARCHAR(50) NOT NULL
);

-- coach ALTERs
ALTER TABLE football.coach ADD CONSTRAINT FORTBIPIBI
FOREIGN KEY (bi) REFERENCES football.internal{\textunderscore}people(bi)
ON UPDATE CASCADE;

-- STAFF CLUBE
CREATE TABLE football.staff(
    bi INT PRIMARY KEY,
    role VARCHAR(50) NOT NULL,
    department{\textunderscore}id INT NOT NULL
);

-- STAFF ALTERs
ALTER TABLE football.staff ADD CONSTRAINT FORSCBIPIBI
FOREIGN KEY (bi) REFERENCES football.internal{\textunderscore}people(bi)
ON UPDATE CASCADE;

-- department
CREATE TABLE football.department(
    department{\textunderscore}id INT PRIMARY KEY IDENTITY,
    address VARCHAR(75) NOT NULL,
    name VARCHAR(75) NOT NULL
);

-- STAFF ALTERs
ALTER TABLE football.staff ADD CONSTRAINT FORSCIDDID
FOREIGN KEY (department{\textunderscore}id) REFERENCES football.department(department{\textunderscore}id)
ON UPDATE CASCADE;

-- ESCALÃO
CREATE TABLE football.team(
    name VARCHAR(50) PRIMARY KEY,
    max{\textunderscore}age INT NOT NULL CHECK(max{\textunderscore}age > 0)
);

-- play
CREATE TABLE football.play(
    bi INT,
    team{\textunderscore}name VARCHAR(50),
	PRIMARY KEY(bi, team{\textunderscore}name)
);

-- ALTER play
ALTER TABLE football.play ADD CONSTRAINT FORJBIJBI
FOREIGN KEY (bi) REFERENCES football.player(bi)
ON UPDATE CASCADE;

ALTER TABLE football.play ADD CONSTRAINT FORJEEE
FOREIGN KEY (team{\textunderscore}name) REFERENCES football.team(name)
ON UPDATE CASCADE;

-- heads
CREATE TABLE football.heads(
    bi int,
    team{\textunderscore}name VARCHAR(50),
	PRIMARY KEY(bi, team{\textunderscore}name)
);

-- ALTER heads
ALTER TABLE football.heads ADD CONSTRAINT FORDBITBI
FOREIGN KEY (bi) REFERENCES football.coach(bi)
ON UPDATE CASCADE;

ALTER TABLE football.heads ADD CONSTRAINT FORDEEE
FOREIGN KEY (team{\textunderscore}name) REFERENCES football.team(name)
ON UPDATE CASCADE;

-- court
CREATE TABLE football.court(
    id{\textunderscore}court INT PRIMARY KEY IDENTITY,
    address VARCHAR(150) NOT NULL
);

-- practice
CREATE TABLE football.practice(
    date DATE NOT NULL,
    hour TIME NOT NULL,
    id{\textunderscore}court INT NOT NULL,
    team{\textunderscore}name VARCHAR(50) NOT NULL,
    PRIMARY KEY(date, hour, id{\textunderscore}court)
);

-- ALTERs practice
ALTER TABLE football.practice ADD CONSTRAINT FORTICCIC
FOREIGN KEY (id{\textunderscore}court) REFERENCES football.court(id{\textunderscore}court)
ON UPDATE CASCADE;

ALTER TABLE football.practice ADD CONSTRAINT FORTNEEN
FOREIGN KEY (team{\textunderscore}name) REFERENCES football.team(name)
ON UPDATE CASCADE;

-- section
CREATE TABLE football.section(
    id{\textunderscore}section INT PRIMARY KEY IDENTITY,
    type VARCHAR(50)
);

-- seat
CREATE TABLE football.seat(
    n{\textunderscore}seat INT NOT NULL,
    row VARCHAR(1) NOT NULL,
    id{\textunderscore}section INT NOT NULL,
    PRIMARY KEY(n{\textunderscore}seat, row, id{\textunderscore}section)
);

-- ALTER seat
ALTER TABLE football.seat ADD active BIT DEFAULT 1
ALTER TABLE football.seat ADD CONSTRAINT FORLISSIS
FOREIGN KEY (id{\textunderscore}section)  REFERENCES football.section(id{\textunderscore}section)
ON UPDATE CASCADE;

-- annual{\textunderscore}seat
CREATE TABLE football.annual{\textunderscore}seat(
  n{\textunderscore}seat INT NOT NULL,
  row VARCHAR(1) NOT NULL,
  id{\textunderscore}section INT NOT NULL,
  start{\textunderscore}date DATE NOT NULL,
  duration INT NOT NULL,
  value INT NOT NULL,
  bi INT NOT NULL,
  season INT NOT NULL,
  PRIMARY KEY(n{\textunderscore}seat, bi, row, id{\textunderscore}section, season)
);



-- annual{\textunderscore}seat ALTER's
ALTER TABLE football.annual{\textunderscore}seat ADD CONSTRAINT FORLAL
FOREIGN KEY (n{\textunderscore}seat, row, id{\textunderscore}section) REFERENCES football.seat(n{\textunderscore}seat, row, id{\textunderscore}section)
ON UPDATE CASCADE;

ALTER TABLE football.annual{\textunderscore}seat ADD CONSTRAINT FORLABISBI
FOREIGN KEY (bi) REFERENCES football.members(bi)
ON UPDATE CASCADE;

\end{lstlisting}

team.sql
\begin{lstlisting} 
-- use p4g5;
use p4g5;

INSERT INTO football.team(name, max{\textunderscore}age) VALUES ('Seniores Masculinos', 50);
INSERT INTO football.team(name, max{\textunderscore}age) VALUES ('Seniores Femininos', 50);

\end{lstlisting}

